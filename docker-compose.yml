services:

  teleshake:
    build: ./teleshake/
    environment:
      - PORT=50050
    ports:
      - "50050:50050"
    network_mode: host

  sila-browser:
    image: registry.gitlab.com/unitelabs/sila2/sila-browser:latest
    network_mode: host
    ports:
      - "3000:3000"

  robot-arm:
    build: ./robot-arm/
    ports:
      - "50054:50054"
      - "8055:8055"
    network_mode: host
    environment:
      - ROBOT_IP=192.168.1.4 # Change
    command: [ "python", "-m", "genericroboticarm", "--address", "0.0.0.0" ]

  # Container for testing purposes
  python:
    image: python:3.12
    network_mode: host

  laborchestrator:
    image: laborchestrator
    network_mode: host